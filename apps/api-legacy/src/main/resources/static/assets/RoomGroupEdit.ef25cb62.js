import{Q as V}from"./QSpinnerGears.58f532f9.js";import{Q as k}from"./QInnerLoading.5c1f95a1.js";import{Q as y}from"./format-util.3d0400b0.js";import{a7 as h,cN as B,bE as Q,k as f,av as G,aG as p,X as A,ba as t,a5 as u,a4 as D,bI as b,cA as n,y as d,cB as E,bJ as P,bM as x,cM as R,Z as _}from"./index.cff9ac5d.js";import{Q as F}from"./QForm.8b51be4d.js";import{i as M,g as N}from"./data-util.507e21cd.js";import{r as m}from"./room-group.b2ab3a5c.js";import{p as q,a as w}from"./room-group.730ad2ee.js";import"./_commonjsHelpers.2cf1d77b.js";import"./base.359dd365.js";const I=h({__name:"RoomGroupEditCard",props:{roomGroup:{}},setup(C){const c=B(),i=Q(),r=C,e=f({isProgress:!1}),o=f({name:"",peekPrice:0,offPeekPrice:0,description:""});function s(){if(!M(r.roomGroup,o.value)){i.notify({message:"\uC218\uC815\uB41C \uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"info",actions:[{icon:"close",color:"white",round:!0}]});return}e.value.isProgress=!0,q(r.roomGroup.id,N(r.roomGroup,o.value)).then(()=>{c.push({name:"RoomGroup",params:{id:r.roomGroup.id}})}).catch(v=>{i.notify({message:v.response.data.message,type:"negative",actions:[{icon:"close",color:"white",round:!0}]})}).finally(()=>{e.value.isProgress=!1})}function g(){Object.assign(o.value,r.roomGroup)}return G(()=>{g()}),(v,a)=>(p(),A(x,null,{default:t(()=>[u(b,{class:"text-h6"},{default:t(()=>[D("\uAC1D\uC2E4 \uADF8\uB8F9 \uC218\uC815")]),_:1}),u(F,{onSubmit:s},{default:t(()=>[u(b,null,{default:t(()=>[u(n,{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=l=>o.value.name=l),loading:e.value.isProgress,disable:e.value.isProgress,rules:d(m).name,label:"\uBC88\uD638",placeholder:"101\uD638",required:""},null,8,["modelValue","loading","disable","rules"]),u(n,{modelValue:o.value.peekPrice,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value.peekPrice=l),modelModifiers:{number:!0},loading:e.value.isProgress,disable:e.value.isProgress,rules:d(m).peekPrice,label:"\uC131\uC218\uAE30 \uC608\uC57D\uAE08",type:"number",min:"0",max:"100000000",required:""},null,8,["modelValue","loading","disable","rules"]),u(n,{modelValue:o.value.offPeekPrice,"onUpdate:modelValue":a[2]||(a[2]=l=>o.value.offPeekPrice=l),modelModifiers:{number:!0},loading:e.value.isProgress,disable:e.value.isProgress,rules:d(m).offPeekPrice,label:"\uBE44\uC131\uC218\uAE30 \uC608\uC57D\uAE08",type:"number",min:"0",max:"100000000",required:""},null,8,["modelValue","loading","disable","rules"]),u(n,{modelValue:o.value.description,"onUpdate:modelValue":a[3]||(a[3]=l=>o.value.description=l),loading:e.value.isProgress,disable:e.value.isProgress,rules:d(m).description,type:"textarea",label:"\uC124\uBA85",placeholder:"\uC640\uC774\uD30C\uC774 \uC0AC\uC6A9 \uAC00\uB2A5"},null,8,["modelValue","loading","disable","rules"])]),_:1}),u(E,{align:"right"},{default:t(()=>[u(P,{disable:e.value.isProgress,to:{name:"RoomGroups"},color:"primary",label:"\uCDE8\uC18C",flat:""},null,8,["disable"]),u(P,{loading:e.value.isProgress,type:"submit",color:"red",label:"\uC218\uC815",flat:""},null,8,["loading"])]),_:1})]),_:1})]),_:1}))}}),S={key:0},U={key:1},K=h({__name:"RoomGroupEdit",setup(C){const c=R(),i=B(),r=Number.parseInt(c.params.id),e=f(null);function o(){return e.value=null,w(r).then(s=>{e.value=s.value}).catch(s=>{s.response.status===404&&i.push({name:"ErrorNotFound"}),console.log(s)})}return G(()=>{o()}),(s,g)=>(p(),A(y,{padding:""},{default:t(()=>[e.value===null?(p(),_("div",S,[u(k,{showing:!0},{default:t(()=>[u(V,{size:"20vh",color:"primary"})]),_:1})])):(p(),_("div",U,[u(I,{"room-group":e.value},null,8,["room-group"])]))]),_:1}))}});export{K as default};
