import{Q as D}from"./format-util.3d0400b0.js";import{a7 as w,cN as b,bE as P,bF as _,k as c,aG as h,X as y,ba as l,a5 as s,bI as f,cA as t,y as d,bJ as C,a4 as v,bM as x,_ as i,d4 as A,av as Q,d0 as q,d1 as R}from"./index.cff9ac5d.js";import{Q as S}from"./QForm.8b51be4d.js";import{u as g,a as I}from"./user.c5a49986.js";import{u as E}from"./app-config.556ae15f.js";import"./_commonjsHelpers.2cf1d77b.js";import"./base.359dd365.js";const L=i("div",{class:"text-h5 text-center"},"Register",-1),U=w({__name:"RegisterCard",setup(V){const r=b(),n=P(),m=_(),a=c({isProgress:!1}),e=c({userId:"",email:"",name:"",password:"",passwordConfirm:""});function B(){a.value.isProgress=!0,A(e.value).then(()=>{m.login({username:e.value.email,password:e.value.password}).then(()=>{r.push({name:"Home"})}).catch(p=>{n.notify({message:`\uB85C\uADF8\uC778 \uC2E4\uD328 (${p.response.data.message})`,type:"negative",actions:[{icon:"close",color:"white",round:!0}]}),r.push({name:"Login"})}).finally(()=>{a.value.isProgress=!1})}).catch(p=>{n.notify({message:`\uD68C\uC6D0 \uAC00\uC785 \uC2E4\uD328 (${p.response.data.message})`,type:"negative",actions:[{icon:"close",color:"white",round:!0}]})}).finally(()=>{a.value.isProgress=!1})}return(p,u)=>(h(),y(x,{loading:a.value.isProgress,class:"q-pa-lg shadow-1",style:{"min-width":"400px"},square:"",bordered:""},{default:l(()=>[s(f,null,{default:l(()=>[L]),_:1}),s(S,{onSubmit:B},{default:l(()=>[s(f,null,{default:l(()=>[s(t,{modelValue:e.value.userId,"onUpdate:modelValue":u[0]||(u[0]=o=>e.value.userId=o),label:"\uACC4\uC815 ID",rules:d(g).userId,disabled:a.value.isProgress,required:"",autofocus:""},null,8,["modelValue","rules","disabled"]),s(t,{modelValue:e.value.email,"onUpdate:modelValue":u[1]||(u[1]=o=>e.value.email=o),label:"\uC774\uBA54\uC77C",rules:d(g).email,disabled:a.value.isProgress,required:""},null,8,["modelValue","rules","disabled"]),s(t,{modelValue:e.value.name,"onUpdate:modelValue":u[2]||(u[2]=o=>e.value.name=o),label:"\uC774\uB984",rules:d(g).name,disabled:a.value.isProgress,required:""},null,8,["modelValue","rules","disabled"]),s(t,{modelValue:e.value.password,"onUpdate:modelValue":u[3]||(u[3]=o=>e.value.password=o),type:"password",label:"\uBE44\uBC00\uBC88\uD638",rules:d(g).password,disabled:a.value.isProgress,required:""},null,8,["modelValue","rules","disabled"]),s(t,{modelValue:e.value.passwordConfirm,"onUpdate:modelValue":u[4]||(u[4]=o=>e.value.passwordConfirm=o),type:"password",label:"\uBE44\uBC00\uBC88\uD638 \uD655\uC778",rules:d(I).passwordConfirm(e.value.password),disabled:a.value.isProgress,required:""},null,8,["modelValue","rules","disabled"])]),_:1}),s(f,null,{default:l(()=>[s(C,{type:"submit",color:"primary",class:"mt-2 full-width",loading:a.value.isProgress,disabled:a.value.isProgress},{default:l(()=>[v(" \uD68C\uC6D0\uAC00\uC785 ")]),_:1},8,["loading","disabled"])]),_:1}),s(f,{class:"text-center q-py-none"},{default:l(()=>[s(C,{to:{name:"Login"},class:"text-grey-6 mt-2 full-width",flat:""},{default:l(()=>[v("\uB85C\uADF8\uC778")]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]))}}),$={class:"column"},F=i("div",{class:"row"},[i("h5",{class:"text-h5 text-white q-my-md"},"Resort Management System")],-1),M={class:"row"},X=w({__name:"MainRegister",setup(V){const r=b(),n=_(),m=E();return Q(()=>{n.isLoggedIn&&r.push({name:"Home"}),m.loadAppConfig(!0).finally(()=>{m.config.isAvailableRegistration||r.push({name:"Login"})})}),(a,e)=>(h(),y(R,null,{default:l(()=>[s(q,null,{default:l(()=>[s(D,{class:"bg-primary window-height window-width row justify-center items-center"},{default:l(()=>[i("div",$,[F,i("div",M,[s(U)])])]),_:1})]),_:1})]),_:1}))}});export{X as default};
